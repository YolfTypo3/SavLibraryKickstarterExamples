.. include:: ../../Includes.txt

.. _pageAccesFilter:

==================
Page Access Filter
==================

The page access filter provides restricted access to a page containing an 
update forms generated by the SAV Library Kickstarter and processed by
the SAV Library Plus extension.
  
Two cases are considered:

- The access is provided by a link for authenticated users. The link is 
  generated in a page and the extension containing the update form is in
  another page.
- The access is provided by a personnal link sent by email. 

Access for Authenticated Users
==============================

#. Create the link in a page.

   .. figure:: ../../Images/PageAccessFilterCreateLinkInBackEnd.png
      :alt: Create the link for Fe Users
  
   You may see the following in the frontend if you are logged in as
   a frontend user.

   .. figure:: ../../Images/PageAccessFilterCreateLinkInFrontEnd.png
      :alt: Link for Fe Users in the frontend

#. Create the access checking in the page to which the link is set.
  
   .. figure:: ../../Images/PageAccessFilterCheckAccessInBackEnd.png
      :alt: Create the access to a FE user
  
#. Add an **Update Form** (see :ref:`Tutorial 7
   <savlibraryplus:tutorial7>` in the SAV Library Plus documentation).
     
   .. figure:: ../../Images/PageAccessFilterAddUpdateFormInBackEnd.png
      :alt: Add an Update Form    
  
   Clicking on the link created in 1. will open the **Update Form** for 
   the logged frontend user.

   .. figure:: ../../Images/PageAccessFilterCheckAccessInFrontEnd.png
      :alt: Create the access to a frontend user
 
Access by a Personnal Link Sent by Email
========================================  

.. important::
	
   The extension **sr_freecap** must be loaded to use this feature.
	
#. Create the access in a page and fill the flexform with your parameter.

   .. figure:: ../../Images/PageAccessFilterCreateCaptchaAndEmailInBackEnd.png
      :alt: Create the captcha and email access
  		
   .. important:: 
   
      The **security table** must contain a field in which the email is saved.  
      This field is the security field.		

#. Add an **Update Form** (see :ref:`Tutorial 7
   <savlibraryplus:tutorial7>` in the SAV Library Plus documentation).
   
#. Answer correctly to the captcha in the frontend and submit.

   .. figure:: ../../Images/PageAccessFilterCreateCaptchaInFrontEnd.png
      :alt: Create the captcha
  		
#. Enter your email adress and submit.

   .. figure:: ../../Images/PageAccessFilterCreateEmailInFrontEnd.png
      :alt: Enter the email
  		
#. If you entered a valid email, a message is displayed and you should received an email
   containing your personnal link to the service
   
   .. figure:: ../../Images/PageAccessFilterCreateEmailSubmissionInFrontEnd.png
      :alt: Message after submission
 
   .. figure:: ../../Images/PageAccessFilterCreateEmailReceived.png
      :alt: Email recieved
 		
#. Click on the link contained in the email and you should access to the **Update Form**.

   .. figure:: ../../Images/PageAccessFilterCreateCaptchaAndEmailInFrontEnd.png
      :alt: Access to the Update Form in the frontend